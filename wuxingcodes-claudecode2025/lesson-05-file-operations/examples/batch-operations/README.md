# 批量操作示例

哎呀，这些都是我加班加点总结的批量操作经验，一个字一个文件改太痛苦了！

## 1. 批量重构示例（老项目升级必备）

### ES5到ES6迁移（让代码更现代）
```bash
# 我的天，项目里全是var，看着就难受
claude "帮我把所有js文件的var改成const或let，要智能判断，不是所有地方都能用const"

# require看着太老了，换成import
claude "把所有的require都换成import，注意路径可能要调整"
```

### 函数优化
```bash
# 批量添加async/await
claude "查找所有使用Promise.then的函数，转换为async/await语法"

// 添加错误处理
claude "为所有异步函数添加try-catch错误处理"
```

## 2. 批量格式化

### 代码风格统一
```bash
# 统一缩进
claude "格式化所有js文件，使用2空格缩进"

# 添加文件末尾换行
claude "检查所有文件，确保末尾有换行符"
```

### 注释规范
```bash
# 添加文件头注释
claude "为所有源文件添加版权信息和文件说明注释"

// 统一注释格式
claude "将所有单行注释改为//格式"
```

## 3. 批量内容修改

### 更新导入路径
```bash
# 修改相对路径
claude "将所有./utils/导入改为@/utils/"

// 更新模块名
claude "将所有moment导入改为dayjs"
```

### 配置更新
```bash
# 更新版本号
claude "在所有package.json中更新依赖版本"

// 修改配置项
claude "更新所有配置文件中的端口号"
```

## 4. 实用脚本

查看以下批量操作脚本：
- `es6-migration.sh` - ES5到ES6迁移脚本
- `format-all.sh` - 批量格式化脚本
- `add-headers.sh` - 添加文件头脚本

## ⚠️ 我的血泪教训（必看！）

1. **一定要备份！！！**：我因为没备份，差点被老板开除
2. **别一次性改太多**：AI会累，改100个文件就休息下
3. **改完赶紧测试**：别等改完了才发现全错了（我就是）
4. **善用Git**：发现不对就git reset，别硬着头皮改