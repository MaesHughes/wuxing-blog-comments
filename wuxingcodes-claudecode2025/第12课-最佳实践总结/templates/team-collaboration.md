# å›¢é˜Ÿåä½œé…ç½®æ¨¡æ¿

## åä½œæ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                å›¢é˜Ÿåä½œæ¶æ„                       â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  å¼€å‘å›¢é˜Ÿ   â”‚  â”‚  æµ‹è¯•å›¢é˜Ÿ   â”‚  â”‚  è¿ç»´å›¢é˜Ÿ   â”‚  â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚  â”‚
â”‚  â”‚  åŠŸèƒ½å¼€å‘   â”‚  â”‚  è´¨é‡ä¿è¯   â”‚  â”‚  éƒ¨ç½²è¿ç»´   â”‚  â”‚
â”‚  â”‚  ä»£ç å®¡æŸ¥   â”‚  â”‚  è‡ªåŠ¨åŒ–æµ‹è¯• â”‚  â”‚  ç›‘æ§å‘Šè­¦   â”‚  â”‚
â”‚  â”‚  å•å…ƒæµ‹è¯•   â”‚  â”‚  æ€§èƒ½æµ‹è¯•   â”‚  â”‚  æ•…éšœå¤„ç†   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                â”‚                â”‚        â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                          â”‚                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚             ClaudeCode åä½œå¹³å°                  â”‚  â”‚
â”‚  â”‚                                                 â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚  â”‚
â”‚  â”‚  â”‚ä»£ç ä»“åº“ â”‚  â”‚CI/CDæµæ°´ â”‚  â”‚æ–‡æ¡£ä¸­å¿ƒ â”‚          â”‚  â”‚
â”‚  â”‚  â”‚GitHub   â”‚  â”‚Jenkins  â”‚  â”‚Confluenceâ”‚          â”‚  â”‚
â”‚  â”‚  â”‚GitLab   â”‚  â”‚GitLab CIâ”‚  â”‚Notion   â”‚          â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚  â”‚
â”‚  â”‚                                                 â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚  â”‚
â”‚  â”‚  â”‚é¡¹ç›®ç®¡ç† â”‚  â”‚é€šä¿¡åä½œ â”‚  â”‚çŸ¥è¯†åº“   â”‚          â”‚  â”‚
â”‚  â”‚  â”‚Jira     â”‚  â”‚Slack    â”‚  â”‚Wiki     â”‚          â”‚  â”‚
â”‚  â”‚  â”‚Trello   â”‚  â”‚Teams    â”‚  â”‚GitBook  â”‚          â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## è§’è‰²æƒé™é…ç½®

### å›¢é˜Ÿè§’è‰²å®šä¹‰

```yaml
team_roles:
  owner:
    name: "æ‰€æœ‰è€…"
    permissions:
      - "system:*"
      - "user:*"
      - "config:*"
      - "deployment:*"
    description: "æ‹¥æœ‰æ‰€æœ‰æƒé™ï¼Œè´Ÿè´£ç³»ç»Ÿæ•´ä½“ç®¡ç†"

  admin:
    name: "ç®¡ç†å‘˜"
    permissions:
      - "user:read"
      - "user:create"
      - "user:update"
      - "config:read"
      - "config:update"
      - "deployment:read"
      - "deployment:update"
    description: "è´Ÿè´£ç”¨æˆ·ç®¡ç†å’Œç³»ç»Ÿé…ç½®"

  developer:
    name: "å¼€å‘è€…"
    permissions:
      - "code:*"
      - "config:read"
      - "deployment:staging"
      - "logs:read"
    description: "è´Ÿè´£åŠŸèƒ½å¼€å‘å’Œä»£ç æäº¤"

  tester:
    name: "æµ‹è¯•å·¥ç¨‹å¸ˆ"
    permissions:
      - "test:*"
      - "deployment:staging"
      - "logs:read"
      - "config:read"
    description: "è´Ÿè´£æµ‹è¯•å’Œè´¨é‡ä¿è¯"

  ops:
    name: "è¿ç»´å·¥ç¨‹å¸ˆ"
    permissions:
      - "deployment:*"
      - "monitoring:*"
      - "logs:*"
      - "backup:*"
    description: "è´Ÿè´£éƒ¨ç½²å’Œç³»ç»Ÿè¿ç»´"

  viewer:
    name: "è§‚å¯Ÿè€…"
    permissions:
      - "code:read"
      - "logs:read"
      - "monitoring:read"
    description: "åªè¯»æƒé™ï¼Œå¯ä»¥æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€"
```

### æƒé™æ§åˆ¶ç³»ç»Ÿ

```python
# rbac.py - åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶

class Permission:
    """æƒé™å®šä¹‰"""
    # ç³»ç»Ÿæƒé™
    SYSTEM_ADMIN = "system:admin"
    SYSTEM_MONITOR = "system:monitor"

    # ç”¨æˆ·æƒé™
    USER_READ = "user:read"
    USER_CREATE = "user:create"
    USER_UPDATE = "user:update"
    USER_DELETE = "user:delete"

    # ä»£ç æƒé™
    CODE_READ = "code:read"
    CODE_WRITE = "code:write"
    CODE_REVIEW = "code:review"
    CODE_MERGE = "code:merge"

    # é…ç½®æƒé™
    CONFIG_READ = "config:read"
    CONFIG_UPDATE = "config:update"

    # éƒ¨ç½²æƒé™
    DEPLOY_READ = "deployment:read"
    DEPLOY_STAGING = "deployment:staging"
    DEPLOY_PRODUCTION = "deployment:production"

    # ç›‘æ§æƒé™
    MONITOR_READ = "monitoring:read"
    MONITOR_UPDATE = "monitoring:update"

class Role:
    """è§’è‰²å®šä¹‰"""
    ROLES = {
        'owner': [
            Permission.SYSTEM_ADMIN,
            Permission.USER_CREATE,
            Permission.USER_UPDATE,
            Permission.USER_DELETE,
            Permission.CODE_WRITE,
            Permission.CODE_REVIEW,
            Permission.CONFIG_UPDATE,
            Permission.DEPLOY_PRODUCTION,
            Permission.MONITOR_UPDATE,
        ],
        'admin': [
            Permission.USER_READ,
            Permission.USER_CREATE,
            Permission.USER_UPDATE,
            Permission.CONFIG_READ,
            Permission.CONFIG_UPDATE,
            Permission.DEPLOY_READ,
            Permission.DEPLOY_STAGING,
        ],
        'developer': [
            Permission.CODE_READ,
            Permission.CODE_WRITE,
            Permission.CONFIG_READ,
            Permission.DEPLOY_STAGING,
        ],
        'tester': [
            Permission.CODE_READ,
            Permission.DEPLOY_STAGING,
            Permission.CONFIG_READ,
        ],
        'ops': [
            Permission.DEPLOY_READ,
            Permission.DEPLOY_STAGING,
            Permission.DEPLOY_PRODUCTION,
            Permission.MONITOR_READ,
            Permission.MONITOR_UPDATE,
        ],
        'viewer': [
            Permission.CODE_READ,
            Permission.MONITOR_READ,
        ],
    }

class RBAC:
    """æƒé™æ§åˆ¶ç±»"""

    @staticmethod
    def has_permission(user_role: str, permission: str) -> bool:
        """æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰æŒ‡å®šæƒé™"""
        role_permissions = Role.ROLES.get(user_role, [])
        return permission in role_permissions

    @staticmethod
    def check_permissions(user_role: str, required_permissions: list) -> bool:
        """æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æ‹¥æœ‰æ‰€æœ‰å¿…éœ€æƒé™"""
        return all(RBAC.has_permission(user_role, perm) for perm in required_permissions)
```

## å·¥ä½œæµé…ç½®

### Gitå·¥ä½œæµ

```yaml
git_workflow:
  branches:
    main:
      description: "ä¸»åˆ†æ”¯ï¼Œç”Ÿäº§ç¯å¢ƒä»£ç "
      protection:
        require_reviews: true
        required_reviewers: 2
        require_status_checks: true
        status_checks:
          - "ci/test"
          - "ci/security"
          - "ci/lint"

    develop:
      description: "å¼€å‘åˆ†æ”¯ï¼Œé›†æˆæœ€æ–°åŠŸèƒ½"
      protection:
        require_reviews: true
        required_reviewers: 1
        require_status_checks: true
        status_checks:
          - "ci/test"
          - "ci/lint"

    feature/*:
      description: "åŠŸèƒ½åˆ†æ”¯ï¼Œä»developåˆ›å»º"
      protection:
        require_reviews: false

    release/*:
      description: "å‘å¸ƒåˆ†æ”¯ï¼Œä»mainåˆ›å»º"
      protection:
        require_reviews: true
        required_reviewers: 2

    hotfix/*:
      description: "çƒ­ä¿®å¤åˆ†æ”¯ï¼Œä»mainåˆ›å»º"
      protection:
        require_reviews: true
        required_reviewers: 2

  commit_rules:
    format: "type(scope): description"
    types:
      - "feat: æ–°åŠŸèƒ½"
      - "fix: ä¿®å¤bug"
      - "docs: æ–‡æ¡£æ›´æ–°"
      - "style: ä»£ç æ ¼å¼åŒ–"
      - "refactor: é‡æ„"
      - "test: æµ‹è¯•"
      - "chore: æ„å»ºæˆ–å·¥å…·"
    examples:
      - "feat(auth): æ·»åŠ OAuth2è®¤è¯"
      - "fix(api): ä¿®å¤ç”¨æˆ·åˆ›å»ºæ¥å£é”™è¯¯"
      - "docs(readme): æ›´æ–°å®‰è£…è¯´æ˜"

  pull_request_template: |
    ## å˜æ›´æè¿°
    è¯·ç®€è¦æè¿°æ­¤PRçš„å†…å®¹å’Œç›®çš„

    ## å˜æ›´ç±»å‹
    - [ ] æ–°åŠŸèƒ½ (feature)
    - [ ] ä¿®å¤ (fix)
    - [ ] æ–‡æ¡£ (docs)
    - [ ] æ ·å¼ (style)
    - [ ] é‡æ„ (refactor)
    - [ ] æµ‹è¯• (test)
    - [ ] æ„å»º (build)

    ## æµ‹è¯•
    - [ ] å•å…ƒæµ‹è¯•å·²é€šè¿‡
    - [ ] é›†æˆæµ‹è¯•å·²é€šè¿‡
    - [ ] æ‰‹åŠ¨æµ‹è¯•å·²å®Œæˆ

    ## æ£€æŸ¥æ¸…å•
    - [ ] ä»£ç ç¬¦åˆé¡¹ç›®è§„èŒƒ
    - [ ] å·²æ·»åŠ å¿…è¦çš„æ³¨é‡Š
    - [ ] å·²æ›´æ–°ç›¸å…³æ–‡æ¡£
    - [ ] æ— å®‰å…¨æ¼æ´
    - [ ] æ€§èƒ½å½±å“å¯æ¥å—
```

### CI/CDæµæ°´çº¿

```yaml
# .github/workflows/ci-cd.yml
name: CI/CD Pipeline

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main, develop ]

env:
  REGISTRY: ghcr.io
  IMAGE_NAME: ${{ github.repository }}

jobs:
  # ä»£ç è´¨é‡æ£€æŸ¥
  quality:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3

    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.9'

    - name: Install dependencies
      run: |
        pip install flake8 black isort mypy
        pip install -r requirements.txt

    - name: Run linting
      run: |
        flake8 --max-line-length=120 --exclude=migrations .
        black --check .
        isort --check-only .
        mypy .

    - name: Run security scan
      run: |
        pip install bandit safety
        bandit -r .
        safety check

  # å•å…ƒæµ‹è¯•
  test:
    runs-on: ubuntu-latest
    needs: quality

    strategy:
      matrix:
        python-version: [3.8, 3.9, 3.10]

    steps:
    - uses: actions/checkout@v3

    - name: Set up Python ${{ matrix.python-version }}
      uses: actions/setup-python@v4
      with:
        python-version: ${{ matrix.python-version }}

    - name: Install dependencies
      run: |
        pip install -r requirements.txt
        pip install -r requirements-test.txt

    - name: Run tests
      run: |
        pytest --cov=app --cov-report=xml

    - name: Upload coverage
      uses: codecov/codecov-action@v3
      with:
        file: ./coverage.xml

  # æ„å»ºDockeré•œåƒ
  build:
    runs-on: ubuntu-latest
    needs: test
    if: github.ref == 'refs/heads/main' || github.ref == 'refs/heads/develop'

    steps:
    - uses: actions/checkout@v3

    - name: Set up Docker Buildx
      uses: docker/setup-buildx-action@v2

    - name: Log in to Container Registry
      uses: docker/login-action@v2
      with:
        registry: ${{ env.REGISTRY }}
        username: ${{ github.actor }}
        password: ${{ secrets.GITHUB_TOKEN }}

    - name: Extract metadata
      id: meta
      uses: docker/metadata-action@v4
      with:
        images: ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}
        tags: |
          type=ref,event=branch
          type=ref,event=pr
          type=sha

    - name: Build and push Docker image
      uses: docker/build-push-action@v4
      with:
        context: .
        push: true
        tags: ${{ steps.meta.outputs.tags }}
        labels: ${{ steps.meta.outputs.labels }}
        cache-from: type=gha
        cache-to: type=gha,mode=max

  # éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ
  deploy-staging:
    runs-on: ubuntu-latest
    needs: build
    if: github.ref == 'refs/heads/develop'
    environment: staging

    steps:
    - uses: actions/checkout@v3

    - name: Deploy to staging
      run: |
        # éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒçš„è„šæœ¬
        echo "Deploying to staging environment..."
        # è¿™é‡Œå¯ä»¥æ˜¯kubectl apply, docker-composeç­‰å‘½ä»¤

  # éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
  deploy-production:
    runs-on: ubuntu-latest
    needs: build
    if: github.ref == 'refs/heads/main'
    environment: production

    steps:
    - uses: actions/checkout@v3

    - name: Deploy to production
      run: |
        # éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒçš„è„šæœ¬
        echo "Deploying to production environment..."
        # æ‰§è¡Œè“ç»¿éƒ¨ç½²æˆ–æ»šåŠ¨æ›´æ–°
```

## ä»£ç å®¡æŸ¥è§„èŒƒ

### å®¡æŸ¥æ¸…å•

```markdown
# ä»£ç å®¡æŸ¥æ¸…å•

## åŠŸèƒ½æ€§
- [ ] ä»£ç å®ç°äº†éœ€æ±‚æ–‡æ¡£ä¸­çš„æ‰€æœ‰åŠŸèƒ½
- [ ] è¾¹ç•Œæ¡ä»¶å¤„ç†æ­£ç¡®
- [ ] é”™è¯¯å¤„ç†å®Œå–„
- [ ] æ€§èƒ½è€ƒè™‘åˆç†

## ä»£ç è´¨é‡
- [ ] ä»£ç é€»è¾‘æ¸…æ™°æ˜“æ‡‚
- [ ] å˜é‡å’Œå‡½æ•°å‘½åè§„èŒƒ
- [ ] ä»£ç ç»“æ„åˆç†
- [ ] æ²¡æœ‰æ˜æ˜¾çš„ä»£ç é‡å¤
- [ ] æ³¨é‡Šå……åˆ†ä¸”å‡†ç¡®

## å®‰å…¨æ€§
- [ ] è¾“å…¥éªŒè¯å®Œæ•´
- [ ] SQLæ³¨å…¥é˜²æŠ¤
- [ ] XSSæ”»å‡»é˜²æŠ¤
- [ ] æ•æ„Ÿä¿¡æ¯ä¿æŠ¤
- [ ] æƒé™æ§åˆ¶æ­£ç¡®

## æµ‹è¯•
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–ç‡è¾¾æ ‡
- [ ] æµ‹è¯•ç”¨ä¾‹è®¾è®¡åˆç†
- [ ] é›†æˆæµ‹è¯•é€šè¿‡
- [ ] æ€§èƒ½æµ‹è¯•æ»¡è¶³è¦æ±‚

## æ–‡æ¡£
- [ ] APIæ–‡æ¡£æ›´æ–°
- [ ] ä»£ç æ³¨é‡Šå……åˆ†
- [ ] READMEæ›´æ–°
- [ ] å˜æ›´æ—¥å¿—è®°å½•
```

### å®¡æŸ¥æµç¨‹

```python
# review_flow.py - ä»£ç å®¡æŸ¥æµç¨‹

class CodeReviewFlow:
    """ä»£ç å®¡æŸ¥æµç¨‹ç®¡ç†"""

    def __init__(self):
        self.reviewers = {
            'frontend': ['alice', 'bob'],
            'backend': ['charlie', 'david'],
            'devops': ['eve'],
            'security': ['frank']
        }

    def get_required_reviewers(self, pr_info):
        """è·å–å¿…éœ€çš„å®¡æŸ¥è€…"""
        reviewers = []

        # æ ¹æ®ä¿®æ”¹çš„æ–‡ä»¶ç¡®å®šå®¡æŸ¥è€…
        if any(f.startswith('frontend/') for f in pr_info['changed_files']):
            reviewers.extend(self.reviewers['frontend'])

        if any(f.startswith('backend/') for f in pr_info['changed_files']):
            reviewers.extend(self.reviewers['backend'])

        if any(f.startswith('deploy/') or f.startswith('docker/') for f in pr_info['changed_files']):
            reviewers.extend(self.reviewers['devops'])

        # å®‰å…¨å®¡æŸ¥ï¼ˆæ•æ„Ÿä»£ç ï¼‰
        if any('auth' in f or 'security' in f for f in pr_info['changed_files']):
            reviewers.extend(self.reviewers['security'])

        # å»é‡
        return list(set(reviewers))

    def check_review_status(self, pr_info):
        """æ£€æŸ¥å®¡æŸ¥çŠ¶æ€"""
        required_reviewers = self.get_required_reviewers(pr_info)
        approvals = pr_info.get('approvals', [])

        missing_reviews = set(required_reviewers) - set(approvals)
        requested_changes = pr_info.get('requested_changes', [])

        return {
            'can_merge': len(missing_reviews) == 0 and len(requested_changes) == 0,
            'missing_reviews': list(missing_reviews),
            'requested_changes': requested_changes
        }

    def auto_assign_reviewers(self, pr_info):
        """è‡ªåŠ¨åˆ†é…å®¡æŸ¥è€…"""
        # è½®è¯¢åˆ†é…ç®—æ³•
        reviewer_load = {r: 0 for r in self.reviewers['backend']}

        # æ›´æ–°å½“å‰è´Ÿè½½
        for pr in self.get_open_prs():
            for reviewer in pr.get('assigned_reviewers', []):
                if reviewer in reviewer_load:
                    reviewer_load[reviewer] += 1

        # åˆ†é…è´Ÿè½½æœ€è½»çš„å®¡æŸ¥è€…
        required = self.get_required_reviewers(pr_info)
        assigned = []

        for role in required:
            candidates = [r for r in self.reviewers.get(role, []) if r not in assigned]
            if candidates:
                reviewer = min(candidates, key=lambda x: reviewer_load.get(x, 0))
                assigned.append(reviewer)
                reviewer_load[reviewer] = reviewer_load.get(reviewer, 0) + 1

        return assigned
```

## å›¢é˜Ÿæ²Ÿé€šé…ç½®

### Slacké›†æˆ

```yaml
# slack-integration.yml
slack_config:
  bot_token: "xoxb-your-bot-token"
  app_token: "xapp-your-app-token"

  channels:
    dev-alerts: "C0123456789"  # å¼€å‘å‘Šè­¦
    ci-cd: "C0987654321"       # CI/CDé€šçŸ¥
    code-review: "C1122334455"  # ä»£ç å®¡æŸ¥
    deployments: "C5566778899"  # éƒ¨ç½²é€šçŸ¥
    incidents: "C9988776655"    # æ•…éšœå“åº”

  notifications:
    pull_request:
      opened:
        channel: "code-review"
        message: |
          ğŸ†• New PR: *<{pr_url}|{title}>*
          Author: {author}
          Reviewers: {reviewers}

      approved:
        channel: "code-review"
        message: |
          âœ… PR Approved: *<{pr_url}|{title}>*
          Approved by: {reviewer}

      merged:
        channel: "ci-cd"
        message: |
          ğŸ‰ PR Merged: *<{pr_url}|{title}>*
          Merged by: {merger}

    deployment:
      started:
        channel: "deployments"
        message: |
          ğŸš€ Deployment Started: {environment}
          Commit: {commit}
          Deployer: {deployer}

      success:
        channel: "deployments"
        message: |
          âœ… Deployment Successful: {environment}
          Duration: {duration}

      failed:
        channel: "incidents"
        message: |
          âŒ Deployment Failed: {environment}
          Error: {error}
          @channel è¯·æ£€æŸ¥
```

### è‡ªåŠ¨åŒ–é€šçŸ¥æœºå™¨äºº

```python
# slack_bot.py - Slacké€šçŸ¥æœºå™¨äºº

import os
import requests
from datetime import datetime

class SlackNotifier:
    def __init__(self, token):
        self.token = token
        self.base_url = "https://slack.com/api"

    def send_message(self, channel, message):
        """å‘é€æ¶ˆæ¯åˆ°é¢‘é“"""
        url = f"{self.base_url}/chat.postMessage"
        headers = {
            "Authorization": f"Bearer {self.token}",
            "Content-Type": "application/json"
        }
        data = {
            "channel": channel,
            "text": message
        }

        response = requests.post(url, headers=headers, json=data)
        return response.json()

    def notify_pr_opened(self, pr_data):
        """é€šçŸ¥PRå¼€å¯"""
        message = f"""ğŸ†• æ–°çš„Pull Request
æ ‡é¢˜: {pr_data['title']}
ä½œè€…: {pr_data['author']}
é“¾æ¥: {pr_data['url']}
éœ€è¦å®¡æŸ¥: {', '.join(pr_data['reviewers'])}"""

        self.send_message(os.getenv('SLACK_CODE_REVIEW_CHANNEL'), message)

    def notify_deployment(self, env, status, details=None):
        """é€šçŸ¥éƒ¨ç½²çŠ¶æ€"""
        if status == 'started':
            message = f"ğŸš€ å¼€å§‹éƒ¨ç½²åˆ° {env} ç¯å¢ƒ"
        elif status == 'success':
            message = f"âœ… {env} ç¯å¢ƒéƒ¨ç½²æˆåŠŸ"
        else:
            message = f"âŒ {env} ç¯å¢ƒéƒ¨ç½²å¤±è´¥: {details}"

        channel = os.getenv('SLACK_DEPLOYMENTS_CHANNEL')
        self.send_message(channel, message)

    def notify_incident(self, severity, message):
        """é€šçŸ¥æ•…éšœ"""
        emoji = {"critical": "ğŸš¨", "warning": "âš ï¸", "info": "â„¹ï¸"}
        prefix = emoji.get(severity, "ğŸ“¢")

        formatted_msg = f"{prefix} {severity.upper()}: {message}"

        # ç´§æ€¥æ•…éšœ@ç›¸å…³äººå‘˜
        if severity == 'critical':
            formatted_msg += "\n@channel è¯·ç«‹å³å¤„ç†"

        channel = os.getenv('SLACK_INCIDENTS_CHANNEL')
        self.send_message(channel, formatted_msg)
```

## çŸ¥è¯†ç®¡ç†

### æ–‡æ¡£æ¨¡æ¿

```markdown
# æŠ€æœ¯æ–‡æ¡£æ¨¡æ¿

## é¡¹ç›®æ¦‚è¿°
- é¡¹ç›®èƒŒæ™¯
- æ ¸å¿ƒåŠŸèƒ½
- æŠ€æœ¯æ ˆ
- æ¶æ„è®¾è®¡

## å¿«é€Ÿå¼€å§‹
- ç¯å¢ƒè¦æ±‚
- å®‰è£…æ­¥éª¤
- é…ç½®è¯´æ˜
- è¿è¡Œæµ‹è¯•

## APIæ–‡æ¡£
### æ¥å£åˆ—è¡¨
- [ ] ç”¨æˆ·ç®¡ç†
- [ ] è®¤è¯æˆæƒ
- [ ] æ•°æ®æŸ¥è¯¢

### æ¥å£è¯¦æƒ…
```http
GET /api/users
```

**è¯·æ±‚å‚æ•°:**
- page: é¡µç 
- size: æ¯é¡µæ•°é‡

**å“åº”ç¤ºä¾‹:**
```json
{
  "code": 200,
  "data": [...]
}
```

## å¼€å‘æŒ‡å—
- ä»£ç è§„èŒƒ
- åˆ†æ”¯ç­–ç•¥
- æäº¤è§„èŒƒ
- æµ‹è¯•è¦æ±‚

## éƒ¨ç½²æŒ‡å—
- ç¯å¢ƒé…ç½®
- éƒ¨ç½²æ­¥éª¤
- é…ç½®è¯´æ˜
- ç›‘æ§è®¾ç½®

## è¿ç»´æ‰‹å†Œ
- æ—¥å¸¸æ£€æŸ¥
- æ•…éšœå¤„ç†
- æ€§èƒ½ä¼˜åŒ–
- å¤‡ä»½æ¢å¤

## å¸¸è§é—®é¢˜
- Q1: å¦‚ä½•é…ç½®æ•°æ®åº“è¿æ¥ï¼Ÿ
- A1: ...

## æ›´æ–°æ—¥å¿—
### v1.0.0 (2024-01-01)
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
```

### Wikiç»„ç»‡ç»“æ„

```
çŸ¥è¯†åº“/
â”œâ”€â”€ 01-é¡¹ç›®æ–‡æ¡£/
â”‚   â”œâ”€â”€ é¡¹ç›®æ¦‚è¿°.md
â”‚   â”œâ”€â”€ éœ€æ±‚æ–‡æ¡£/
â”‚   â”œâ”€â”€ è®¾è®¡æ–‡æ¡£/
â”‚   â””â”€â”€ ä¼šè®®è®°å½•/
â”œâ”€â”€ 02-å¼€å‘æŒ‡å—/
â”‚   â”œâ”€â”€ ç¯å¢ƒæ­å»º.md
â”‚   â”œâ”€â”€ ä»£ç è§„èŒƒ.md
â”‚   â”œâ”€â”€ APIæ–‡æ¡£/
â”‚   â””â”€â”€ æµ‹è¯•æŒ‡å—.md
â”œâ”€â”€ 03-éƒ¨ç½²è¿ç»´/
â”‚   â”œâ”€â”€ ç¯å¢ƒé…ç½®.md
â”‚   â”œâ”€â”€ éƒ¨ç½²æµç¨‹.md
â”‚   â”œâ”€â”€ ç›‘æ§å‘Šè­¦.md
â”‚   â””â”€â”€ æ•…éšœå¤„ç†.md
â”œâ”€â”€ 04-å›¢é˜Ÿåä½œ/
â”‚   â”œâ”€â”€ å·¥ä½œæµç¨‹.md
â”‚   â”œâ”€â”€ ä»£ç å®¡æŸ¥.md
â”‚   â”œâ”€â”€ å‘å¸ƒè§„èŒƒ.md
â”‚   â””â”€â”€ å€¼ç­å®‰æ’.md
â””â”€â”€ 05-çŸ¥è¯†åˆ†äº«/
    â”œâ”€â”€ æŠ€æœ¯åˆ†äº«/
    â”œâ”€â”€ æ¡ˆä¾‹ç ”ç©¶/
    â”œâ”€â”€ æœ€ä½³å®è·µ/
    â””â”€â”€ å¤–éƒ¨èµ„æº/
```

## å›¢é˜Ÿç»©æ•ˆç®¡ç†

### ä»£ç è´¨é‡æŒ‡æ ‡

```yaml
quality_metrics:
  code_coverage:
    target: 80%
    warning: 70%

  code_review_time:
    target: "24h"
    warning: "48h"

  bug_fix_time:
    target: "4h"
    warning: "8h"

  deployment_frequency:
    target: "daily"
    warning: "weekly"

  change_failure_rate:
    target: "5%"
    warning: "10%"

  mean_time_to_recovery:
    target: "1h"
    warning: "4h"
```

### å›¢é˜ŸDashboard

```python
# team_dashboard.py - å›¢é˜Ÿç»©æ•ˆä»ªè¡¨æ¿

class TeamDashboard:
    def __init__(self):
        self.metrics = {
            'productivity': {
                'commits_today': 0,
                'prs_opened': 0,
                'prs_merged': 0,
                'issues_closed': 0
            },
            'quality': {
                'code_coverage': 0,
                'test_pass_rate': 0,
                'bug_count': 0,
                'code_review_time': 0
            },
            'collaboration': {
                'active_reviewers': 0,
                'avg_review_time': 0,
                'knowledge_shares': 0
            }
        }

    def update_metrics(self):
        """æ›´æ–°æŒ‡æ ‡æ•°æ®"""
        # ä»GitHub/GitLabè·å–æ•°æ®
        self.metrics['productivity']['commits_today'] = self.get_commits_today()
        self.metrics['productivity']['prs_opened'] = self.get_prs_opened()
        self.metrics['productivity']['prs_merged'] = self.get_prs_merged()

        # ä»æµ‹è¯•ç³»ç»Ÿè·å–è´¨é‡æ•°æ®
        self.metrics['quality']['code_coverage'] = self.get_code_coverage()
        self.metrics['quality']['test_pass_rate'] = self.get_test_pass_rate()

        # è®¡ç®—åä½œæŒ‡æ ‡
        self.metrics['collaboration']['active_reviewers'] = self.get_active_reviewers()

    def generate_report(self):
        """ç”Ÿæˆå›¢é˜ŸæŠ¥å‘Š"""
        report = f"""
# å›¢é˜Ÿç»©æ•ˆæŠ¥å‘Š - {datetime.now().strftime('%Y-%m-%d')}

## ç”Ÿäº§åŠ›æŒ‡æ ‡
- ä»Šæ—¥æäº¤: {self.metrics['productivity']['commits_today']}
- æ–°å»ºPR: {self.metrics['productivity']['prs_opened']}
- åˆå¹¶PR: {self.metrics['productivity']['prs_merged']}
- å…³é—­Issue: {self.metrics['productivity']['issues_closed']}

## è´¨é‡æŒ‡æ ‡
- ä»£ç è¦†ç›–ç‡: {self.metrics['quality']['code_coverage']}%
- æµ‹è¯•é€šè¿‡ç‡: {self.metrics['quality']['test_pass_rate']}%
- æ´»è·ƒBug: {self.metrics['quality']['bug_count']}
- å¹³å‡å®¡æŸ¥æ—¶é—´: {self.metrics['quality']['code_review_time']}h

## åä½œæŒ‡æ ‡
- æ´»è·ƒå®¡æŸ¥è€…: {self.metrics['collaboration']['active_reviewers']}
- å¹³å‡å®¡æŸ¥æ—¶é—´: {self.metrics['collaboration']['avg_review_time']}h
- æœ¬æœˆæŠ€æœ¯åˆ†äº«: {self.metrics['collaboration']['knowledge_shares']}

## æ”¹è¿›å»ºè®®
{self.generate_recommendations()}
        """
        return report

    def generate_recommendations(self):
        """ç”Ÿæˆæ”¹è¿›å»ºè®®"""
        recommendations = []

        if self.metrics['quality']['code_coverage'] < 80:
            recommendations.append("- æé«˜ä»£ç è¦†ç›–ç‡åˆ°80%ä»¥ä¸Š")

        if self.metrics['quality']['code_review_time'] > 24:
            recommendations.append("- ç¼©çŸ­ä»£ç å®¡æŸ¥å“åº”æ—¶é—´")

        if self.metrics['collaboration']['knowledge_shares'] < 2:
            recommendations.append("- å¢åŠ å›¢é˜ŸæŠ€æœ¯åˆ†äº«é¢‘ç‡")

        return "\n".join(recommendations) if recommendations else "- å„é¡¹æŒ‡æ ‡è‰¯å¥½ï¼Œç»§ç»­ä¿æŒ"
```

## å›¢é˜Ÿæœ€ä½³å®è·µ

### æ—¥å¸¸å®è·µ

1. **æ¯æ—¥ç«™ä¼š** (15åˆ†é’Ÿ)
   - æ˜¨å¤©å®Œæˆä»€ä¹ˆ
   - ä»Šå¤©è®¡åˆ’åšä»€ä¹ˆ
   - é‡åˆ°ä»€ä¹ˆå›°éš¾

2. **ä»£ç å®¡æŸ¥** (åŠæ—¶å“åº”)
   - PRåˆ›å»ºå24å°æ—¶å†…å“åº”
   - å»ºè®¾æ€§åé¦ˆ
   - ä¿æŒç¤¼è²Œå’Œä¸“ä¸š

3. **çŸ¥è¯†åˆ†äº«** (æ¯å‘¨ä¸€æ¬¡)
   - æŠ€æœ¯æ–¹æ¡ˆè®¨è®º
   - ç»éªŒæ€»ç»“åˆ†äº«
   - æ–°æŠ€æœ¯æ¢ç´¢

4. **å›é¡¾ä¼šè®®** (æ¯ä¸¤å‘¨)
   - åšå¾—å¥½çš„åœ°æ–¹
   - éœ€è¦æ”¹è¿›çš„åœ°æ–¹
   - è¡ŒåŠ¨è®¡åˆ’åˆ¶å®š

### æ²Ÿé€šåŸåˆ™

1. **é€æ˜å¼€æ”¾**
   - åŠæ—¶åŒæ­¥è¿›åº¦
   - ä¸»åŠ¨åˆ†äº«é—®é¢˜
   - å¦è¯šäº¤æµå›°éš¾

2. **å°Šé‡ä¸“ä¸š**
   - å°Šé‡ä¸åŒæ„è§
   - åŸºäºæ•°æ®å†³ç­–
   - æ‰¿è®¤çŸ¥è¯†å±€é™

3. **æŒç»­å­¦ä¹ **
   - ä¿æŒå¥½å¥‡å¿ƒ
   - åˆ†äº«å­¦ä¹ æˆæœ
   - é¼“åŠ±åˆ›æ–°å°è¯•

4. **è¿½æ±‚å“è¶Š**
   - ä»£ç è´¨é‡ç¬¬ä¸€
   - ç”¨æˆ·ä½“éªŒä¼˜å…ˆ
   - æŠ€æœ¯å€ºåŠ¡ç®¡ç†